# GPU Deployment Environment Variables for bitHuman Avatar
# This file is used with docker-compose.gpu.yml for self-hosted GPU deployment
#
# Usage:
#   1. Copy this file and fill in your actual values
#   2. Run: docker-compose -f docker-compose.gpu.yml up

# ============================================================================
# REQUIRED: bitHuman API Credentials
# ============================================================================

# Your bitHuman API secret for authorization and authentication
# Get this from: https://www.bithuman.ai (Developer section)
BITHUMAN_API_SECRET=your_bithuman_api_secret_here

# ============================================================================
# REQUIRED: LLM Provider API Key
# ============================================================================

# API key for your chosen LLM provider (example uses OpenAI)
# Replace with your preferred provider's key
OPENAI_API_KEY=your_llm_api_key_here

# ============================================================================
# OPTIONAL: Custom GPU Endpoint Configuration
# ============================================================================

# URL of your custom GPU avatar worker endpoint
# For local docker-compose deployment, this is set internally to:
#   http://expression-avatar:8089/launch
# You only need to set this if using an EXTERNAL GPU worker (bitHuman Cloud, etc.)
#
# Examples:
#   - Local: http://localhost:8089/launch
#   - bitHuman Cloud: contact support for your dedicated endpoint URL
#   - Self-hosted: https://your-domain.com/launch
# CUSTOM_GPU_URL=

# API token for Bearer authentication with custom GPU endpoint
# Required if your GPU worker endpoint uses token authentication
# Leave empty if using the local docker-compose expression-avatar service
CUSTOM_GPU_TOKEN=

# ============================================================================
# REQUIRED: Avatar Configuration (set ONE of the following)
# ============================================================================

# Option A: Pre-configured avatar ID on the worker
# This corresponds to a preset avatar loaded on the expression-avatar service
# If set, this takes precedence over BITHUMAN_AVATAR_IMAGE
# AVATAR_ID=A05XGC2284

# Option B: Avatar image source (URL or local container path)
# - URL example: BITHUMAN_AVATAR_IMAGE=https://example.com/avatar.jpg
# - Local file:  place image in ./avatars/ then set: BITHUMAN_AVATAR_IMAGE=/app/avatars/avatar.jpg
# NOTE: At least one of AVATAR_ID or BITHUMAN_AVATAR_IMAGE must be set
BITHUMAN_AVATAR_IMAGE=

# Voice for OpenAI realtime model
# Options: alloy, ash, ballad, coral, echo, fable, onyx, nova, sage, shimmer, verse
# Default: alloy
OPENAI_VOICE=alloy

# Custom personality prompt for the avatar
# If not set, a default personality will be used
# AVATAR_PERSONALITY=You are a helpful and engaging virtual assistant.

# ============================================================================
# OPTIONAL: LiveKit Configuration (for external LiveKit)
# ============================================================================

# These values are pre-configured in docker-compose.gpu.yml
# Only change these if using an external LiveKit server
#
# LIVEKIT_URL=ws://livekit:17880
# LIVEKIT_API_KEY=devkey
# LIVEKIT_API_SECRET=UPivas8PQvWiYhubkqxqfkY8kfB9TgGj

# ============================================================================
# OPTIONAL: GPU Worker Configuration
# ============================================================================

# CUDA device to use (default: 0)
# Set this to specify which GPU the worker should use
# CUDA_VISIBLE_DEVICES=0

# Model paths (if using custom models)
# MODEL_PATH=/app/models
# CHECKPOINT_PATH=/app/checkpoints

# ============================================================================
# NOTES:
# ============================================================================
#
# 1. GPU Requirements:
#    - NVIDIA GPU with CUDA support
#    - nvidia-docker2 or nvidia-container-toolkit installed
#    - Run with: docker-compose -f docker-compose.gpu.yml up
#
# 2. Volume Mounts (optional):
#    - ./preset_avatars:/app/preset_avatars - Custom avatar configurations
#    - ./models:/app/models - Custom model files
#    - ./checkpoints:/app/checkpoints - Custom checkpoint files
#    - ./avatar.jpg:/avatar.jpg - Single avatar image file
#
# 3. Ports used:
#    - 17880: LiveKit WebSocket/HTTP API
#    - 17881: LiveKit TCP signaling
#    - 50700-50720/udp: LiveKit WebRTC media
#    - 4202: Frontend web interface
#    - 8089: GPU worker (internal, not exposed)
#
# 4. For external GPU worker (bitHuman Cloud, etc.):
#    - Set CUSTOM_GPU_URL to your worker's /launch endpoint
#    - Set CUSTOM_GPU_TOKEN if authentication is required
#    - The expression-avatar service can be removed from docker-compose
